(function(){'use strict';var m=Math.PI/180;function n(a){var b=p;var e=q,c=Math.random(),d=Math.random();b=r({x:0,y:0},(1-c)*b.x+c*e.x,(1-d)*b.y+d*e.y);a.x=b.x;a.y=b.y}function r(a,b,e){a.x=b;a.y=e;return a};function t(){return{a:1,b:0,j:0,c:0,f:1,l:0,g:0,h:0,m:1}}function u(a,b,e,c,d){a.a=b;a.b=0;a.j=e;a.c=0;a.f=c;a.l=d;a.g=0;a.h=0;a.m=1}function v(a,b,e){var c=a.a*b.a+a.b*b.c+a.j*b.g;var d=a.a*b.b+a.b*b.f+a.j*b.h;var g=a.a*b.j+a.b*b.l+a.j*b.m;e.a=c;e.b=d;e.j=g;c=a.c*b.a+a.f*b.c+a.l*b.g;d=a.c*b.b+a.f*b.f+a.l*b.h;g=a.c*b.j+a.f*b.l+a.l*b.m;e.c=c;e.f=d;e.l=g;c=a.g*b.a+a.h*b.c+a.m*b.g;d=a.g*b.b+a.h*b.f+a.m*b.h;g=a.g*b.j+a.h*b.l+a.m*b.m;e.g=c;e.h=d;e.m=g}
function w(a){var b=x;r(y,b.a*a.x+b.b*a.y+b.j,b.c*a.x+b.f*a.y+b.l)};function z(a,b){return{O:"block",L:a,K:b,s:!1,C:A(a),fillStyle:A(b)}}function A(a){return"rgba("+a.x+", "+a.y+", "+a.z+", "+a.u+")"};function B(a){return{J:a,o:{x:(1.25*Math.random()+.75)*(.5<=Math.random()?1:-1),y:(1.25*Math.random()+.75)*(.5<=Math.random()?1:-1)}}};function C(){return{position:{x:0,y:0},scale:{x:1,y:1},orientation:0,s:!0,A:t(),N:{a:1,b:0,c:0,f:1}}};var p={x:0,y:0},q={x:0,y:0},D={F:{},entities:[],v:function(){var a=C();a.D=t();a.H=t();a.I=function(a){v(a.D,a.A,a.H)};return a}()};function E(a){var b=p.x,e=p.y,c=q.x,d=q.y;a.position.x>c?(a.position.x=c,a.i.o.x*=-1):a.position.x<b&&(a.position.x=b,a.i.o.x*=-1);a.position.y>d?(a.position.y=d,a.i.o.y*=-1):a.position.y<e&&(a.position.y=e,a.i.o.y*=-1)};var F=0,G=0,H=t(),I=t(),x=t(),y={x:0,y:0};var J,K,L=0;
function N(a){var b=.001*(a-L);L=a;a=D.entities;for(var e=0;e<a.length;e++){var c=a[e],d=c.i,g=c.update;if(void 0!==d){var l=d.J,k=l.position,f=k;d=d.o;k.x=f.x+d.x*b;k.y=f.y+d.y*b;l.s=!0}void 0!==g&&g(c,b);c=a[e];f=c.orientation;k=c.N;g=c.w;l=c.I;d=c.A;var h=c.scale,M=c.position;d.a=h.x;d.b=0;d.j=M.x;d.c=0;d.f=h.y;d.l=M.y;d.g=0;d.h=0;d.m=1;h=Math.cos(f);f=Math.sin(f);k.a=h;k.b=-f;k.c=f;k.f=h;f=d;h=k;d=f.a*h.a+f.b*h.c;k=f.a*h.b+f.b*h.f;f.a=d;f.b=k;d=f.c*h.a+f.f*h.c;k=f.c*h.b+f.f*h.f;f.c=d;f.f=k;d=
f.g*h.a+f.h*h.c;k=f.g*h.b+f.h*h.f;f.g=d;f.h=k;void 0!==l&&l(c);void 0!==g&&g.s&&(l=g.K,g.C=A(g.L),g.fillStyle=A(l),g.s=!1);c.s=!1}b=J.context;b.clearRect(0,0,F,G);a=D.F;e=D.entities;v(H,D.v.H,I);for(c=0;c<e.length;c++)if(f=e[c],g=f.w,void 0!==g){l=a[g.O].M;v(I,f.A,x);b.beginPath();w(l[0]);b.moveTo(y.x,y.y);for(f=1;f<l.length;f++)w(l[f]),b.lineTo(y.x,y.y);b.closePath();l=g.C;b.fillStyle=g.fillStyle;b.fill();b.strokeStyle=l;b.stroke()}K.paused||window.requestAnimationFrame(N)}
function O(){window.requestAnimationFrame(function(a){L=a;K.paused=!1;K.G.innerText="Running";window.requestAnimationFrame(N)})}function P(){K.paused?O():(K.paused=!0,K.G.innerText="Paused")}function Q(){var a=J,b=a.P,e=b.clientWidth;b=b.clientHeight;a=a.canvas;a.width=e;a.height=b;J.width=e;J.height=b;J.B=e/b;b=J;e=b.width;a=b.height;var c=b.B;b=1>=c?8:8*c;c=1<=c?8:8/c;var d=b/2,g=c/2;r(p,-d,-g);r(q,d,g);u(D.v.D,2/b,0,2/c,0);b=e/2;c=a/2;F=e;G=a;u(H,b,b,-c,c)}
window.addEventListener("load",function(){var a=document.getElementById("wrapper"),b=document.getElementById("canvas"),e=b.getContext("2d");if(!e)throw"2d context unavailable";J={P:a,canvas:b,context:e,width:0,height:0,B:1};a=document.getElementById("play-pause-btn");b=document.getElementById("paused-status");a.addEventListener("click",P);K={paused:!0,button:a,G:b};Q();a={id:"block",M:[{x:-.5,y:.5},{x:-.5,y:-.5},{x:-.25,y:-.5},{x:-.2,y:-.4},{x:.2,y:-.4},{x:.25,y:-.5},{x:.5,y:-.5},{x:.5,y:.5}]};D.F[a.id]=
a;a=C();n(a.position);b=a.scale;b.x=1.25*b.x;b.y=1.25*b.y;a.i=B(a);a.update=E;a.w=z({x:255,y:175,z:0,u:1},{x:255,y:255,z:0,u:.75});D.entities.push(a);a=C();n(a.position);a.orientation=-30*m;a.i=B(a);a.update=E;a.w=z({x:0,y:175,z:255,u:1},{x:0,y:255,z:255,u:.75});D.entities.push(a);D.entities.push(D.v);window.addEventListener("resize",Q)});}).call(this);
